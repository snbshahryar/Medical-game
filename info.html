<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø«Ø¨Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</title>
<!-- ÙÙˆÙ†Øª Vazir -->
<link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">
<style>
  body { 
    font-family: 'Vazir', sans-serif; 
    direction: rtl; 
    background: #f0f7ff; 
    text-align: center; 
    padding: 20px; 
  }
  h1 { color: #0d6efd; }
  form { display: inline-block; text-align: right; margin-top: 20px; }
  label { display: block; margin: 10px 0 5px; font-weight: 600; }
  input, select { 
    width: 250px; 
    padding: 8px; 
    border-radius: 6px; 
    border: 1px solid #bbb; 
    margin-bottom: 10px; 
    font-family: 'Vazir', sans-serif;
  }
  #otherJob { display: none; }
  button { 
    font-size: 18px; 
    padding: 10px 20px; 
    border: none; 
    border-radius: 8px; 
    background: #0d6efd; 
    color: white; 
    font-weight: 600; 
    cursor: pointer; 
    margin-top: 10px; 
    font-family: 'Vazir', sans-serif;
  }
  .codeBox { 
    margin-top: 20px; 
    font-size: 22px; 
    font-weight: bold; 
    color: #0d6efd; 
    font-family: 'Vazir', sans-serif;
  }
</style>
</head>
<body>

<h1>ğŸ“ Ø«Ø¨Øª Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø®ØµÛŒ</h1>
<form id="infoForm">
  <label>Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ:</label>
  <input type="text" id="fullName" required>
  <label>Ø´Ù…Ø§Ø±Ù‡ ØªÙ…Ø§Ø³:</label>
  <input type="text" id="phone" required>
  <label>Ø´Ù…Ø§Ø±Ù‡ Ù†Ø¸Ø§Ù…:</label>
  <input type="text" id="idNumber" required>
  <label>Ø´ØºÙ„:</label>
  <select id="job" required>
    <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</option>
    <option value="doctor">Ù¾Ø²Ø´Ú©</option>
    <option value="nurse">Ù¾Ø±Ø³ØªØ§Ø±</option>
    <option value="other">Ø³Ø§ÛŒØ±</option>
  </select>
  <input type="text" id="otherJob" placeholder="Ù„Ø·ÙØ§ Ø´ØºÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
  <button type="submit">Ø«Ø¨Øª Ùˆ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø¯ ÛŒÙˆÙ†ÛŒÚ©</button>
</form>

<div class="codeBox" id="finalCodeBox"></div>

<script>
const jobSelect = document.getElementById("job");
const otherJobInput = document.getElementById("otherJob");
jobSelect.addEventListener("change", () => {
  otherJobInput.style.display = (jobSelect.value === "other") ? "block" : "none";
});

const form = document.getElementById("infoForm");
const codeBox = document.getElementById("finalCodeBox");

form.addEventListener("submit", (e) => {
  e.preventDefault();
  const fullName = document.getElementById("fullName").value.trim();
  const phone = document.getElementById("phone").value.trim();
  const idNumber = document.getElementById("idNumber").value.trim();
  let job = jobSelect.value;
  if (job === "other") { job = otherJobInput.value.trim() || "other"; }

  let prefix = "S";
  if (job === "doctor") prefix = "D";
  else if (job === "nurse") prefix = "N";

  const tempCode = localStorage.getItem("tempCode") || Math.random().toString(36).substring(2, 8).toUpperCase();
  const finalCode = prefix + "-" + tempCode;

  codeBox.textContent = "ğŸ‰ Ú©Ø¯ ÛŒÙˆÙ†ÛŒÚ© Ø´Ù…Ø§: " + finalCode;

  // Ø¯Ø± ØµÙˆØ±Øª Ù†ÛŒØ§Ø² Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯
  console.log({ fullName, phone, idNumber, job, code: finalCode });
});
</script>

</body>
</html>
